{% extends 'base.html' %}
{% block content %}
<section class="min-h-screen bg-gradient-to-br from-blue-50 via-gray-50 to-white py-10 px-8">

   <h2 class="text-2xl font-semibold mb-8 text-center text-gray-800 tracking-wide">
    <i class="fas fa-bus-alt text-gray-700 mr-2"></i> Company Bus Availability
  </h2>

  {% if buses %}
  <div class="overflow-hidden rounded-xl border border-gray-200 shadow-lg bg-white/90 backdrop-blur-md">
    <table class="min-w-full text-sm text-gray-700">
      
      <!-- Table Header -->
      <thead class="bg-[#003B73] text-white uppercase text-xs tracking-wider">
        <tr>
          <th class="px-5 py-3 font-medium text-left">Bus No</th>
          <th class="px-5 py-3 font-medium text-left">Stop</th>
          <th class="px-5 py-3 font-medium text-left">Pickup</th>
          <th class="px-5 py-3 font-medium text-left">Drop</th>
          <th class="px-5 py-3 font-medium text-left">Status</th>
        </tr>
      </thead>

      <!-- Table Body -->
      <tbody>
        {% for bus in buses %}
        <tr class="
          border-b last:border-0 transition-all duration-200 
          {% if bus.status == 'Active' %}
            bg-white hover:bg-blue-50
          {% else %}
            bg-red-50 hover:bg-red-100
          {% endif %}
          ">
          
          <!-- Bus No -->
          <td class="px-5 py-3 font-semibold text-[#003B73] whitespace-nowrap flex items-center gap-2">
            <i class="fas fa-bus {% if bus.status == 'Active' %}text-[#003B73]{% else %}text-red-600{% endif %}"></i>
            {{ bus.bus_no }}
          </td>

          <!-- Stop -->
          <td class="px-5 py-3 text-gray-800 whitespace-nowrap">{{ bus.stop }}</td>

          <!-- Pickup -->
          <td class="px-5 py-3 text-gray-700 whitespace-nowrap">
            <i class="fas fa-clock text-yellow-500 mr-1"></i>{{ bus.pickup_time }}
          </td>

          <!-- Drop -->
          <td class="px-5 py-3 text-gray-700 whitespace-nowrap">
            <i class="fas fa-clock text-blue-500 mr-1"></i>{{ bus.drop_time }}
          </td>

          <!-- Status -->
          <td class="px-5 py-3 whitespace-nowrap">
            {% if bus.status == 'Active' %}
              <span class="inline-flex items-center px-3 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full">
                <i class="fas fa-check-circle mr-1"></i> Active
              </span>
            {% else %}
              <span class="inline-flex items-center px-3 py-1 bg-red-200 text-red-800 text-xs font-medium rounded-full">
                <i class="fas fa-exclamation-circle mr-1"></i> Inactive
              </span>
            {% endif %}
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  {% else %}
  <!-- Empty State -->
  <div class="text-center py-20">
    <img src="https://cdn-icons-png.flaticon.com/512/8140/8140730.png" alt="No buses" class="mx-auto w-24 mb-4 opacity-70">
    <p class="text-gray-500 text-lg font-medium">No buses available at the moment.</p>
  </div>
  {% endif %}
</section>

<style>
/*  Clean table look */
table {
  border-collapse: collapse;
}

/* Subtle shadow under header */
thead {
  box-shadow: 0 2px 6px rgba(0, 59, 115, 0.15);
}

/* Smooth hover effect */
tbody tr {
  transition: background 0.2s ease, transform 0.15s ease;
}

/* Compact spacing and alignment */
td, th {
  vertical-align: middle;
}

/* Remove scrollbar overflow */
section {
  overflow-x: hidden;
}

/* Professional neutral background */
body {
  background: linear-gradient(135deg, #e0f2fe 0%, #f8fafc 100%);
}
</style>
{% endblock %}
